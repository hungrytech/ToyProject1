<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header"/>
<body>
<nav th:replace="fragments/body_header :: bodyheader"/>

<!-- content -->
<main class="container" style="margin-top: 150px">
  <div class="row">
    <div class="col-3"></div>
    <div class="col-6">
      <form role="form"
            th:object="${memberInfo}"
            th:action="@{/find/accountPw/change}"
            id="pwChangeForm"
            method="post">
        <h2>비밀번호 변경</h2>
        <div class="form-group">
          <input
                  hidden
                  type="text"
                  class="form-control"
                  th:field="*{accountId}"
          />
        </div>
        <div class="form-group">
          <input
                  hidden
                  type="text"
                  class="form-control"
                  th:field="*{name}"
          />
        </div>
        <div class="form-group">
          <input
                  hidden
                  type="text"
                  class="form-control"
                  th:field="*{email}"
          />
        </div>
        <div class="form-group">
          <input
                  hidden
                  type="text"
                  class="form-control"
                  th:field="*{phoneNumber}"
          />
        </div>
        <div class="form-group">
          <label th:for="accountPw">변경할 비밀번호</label>
          <input
                  type="password"
                  class="form-control"
                  th:field="*{accountPw}"
                  autocomplete="on"
                  placeholder="변경할 비밀번호를 입력해주세요"
                  onchange="check_pw()"
          />
        </div>
        <div class="form-group">
          <label for="passwordConfirm">변경할 비밀번호 확인</label>
          <input
                  type="password"
                  class="form-control"
                  id="passwordConfirm"
                  autocomplete="on"
                  placeholder="변경할 비밀번호 확인"
                  value=""
                  onchange="check_pw()"
          />
          <input hidden id="pwCheck">
          <span id="check"></span>
        </div>
        <button type="button" class="btn btn-primary" onclick="checkPw()">확인</button>
      </form>
    </div>
    <div class="col-3"></div>
  </div>
</main>

<footer th:replace="fragments/footer :: footer"/>
<!-- Optional JavaScript; choose one of the two! -->

<!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
<script
        src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"
></script>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
        crossorigin="anonymous"
></script>

<!-- Option 2: Separate Popper and Bootstrap JS -->
<!--
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>
-->

<script src="/js/customMemberForm.js"></script>

<script type="text/javascript">


  function checkPw() {
    let check = document.getElementById("check");
    let accountPw = document.getElementById("accountPw");
    let pwConfirm = document.getElementById("passwordConfirm");
    let pwChangeForm = document.getElementById("pwChangeForm");

    //비밀번호가 다를때
    if(accountPw.value !== pwConfirm.value) {
      alert(check.innerText);
      return;
    }

    pwChangeForm.submit();

  }

</script>

</body>
</html>